<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset ="UTF-8">
    <meta name ="viewport" content="width=device-width, initial-scale=1.0">
    <litle>index.html</litle>

    <script> 
       function main() {
          // 12.345.678/0001-95
          // 1 2 3 4 5 6 7 8 0 0 0 1 9 5 
          // 5 4 3 2 9 8 7 6 5 4 3 2 
          //05+08+09+08+45+48+00+00+00+02=222
          //222%11=2 11-2=9
          // 1 2 3 4 5 6 7 8 0 0 0 1 9 5
          // 6 5 4 3 2 9 8 7 6 5 4 3 2 
          //06+10+12+12+10+54+56+56+00+00+00+03+18=237
          //237%11=6 11-6+5
        
        cnp=prompt("digite o cnpj: ");
          cnpj1="";
          n=5;
          soma+0;
          for(i=0;i<cnpj.legth;i++) {
            if(i==cnpj.legth-1) {
                cnpj+=cnpj[i]; 
          }
              else {
                 cnpj1+=cnpj[i]+" - ";   //cnpj = cnpj1 + cnpj[i]
              }
              if(i<12) {
                     if((n-i)==1) {

                }
                soma+= (n+i)*parseInt(cnpj[1]); //10+9+8+7+6+5+4+3+2+1+0+(-1)

              }
              dv1=11-(soma%11);
              if(dv>9) {
                d1=0;
              }
              console.log(cnpj);
              console.log(cnpj1);
              console.log(dv1);
              if(parsenInt(cnpj[12])!=dv1) {
                       alert("cnpj inválido");
              }
              else {
                soma=0;
                n=6
                for(i=0;i<cnpj.legth;i++) {
                    if(i<13) {
                         if((n-1)==1) {
                            n=14;
                         }
                         soma+= (n-i)*parseInt(cnpj[i]);
                    }
                }
              }
              console.log(soma);
              dv2=11-(soma%11);
              if(dv2>9) {
                dv2=0;
              }

              if(dv2!=parseInt(cnpj[13])) {
                  alert("cnpj inválido");
              }
              else {
                  alert("cnpj válido")
              }
        }      
    </script>
</head>
<body onload="main()">

</body>
</html>
